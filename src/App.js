import React from 'react';
import './App.css';
import jsonp from 'jsonp-promise';
import ReactMapboxGl, { Layer, Source } from 'react-mapbox-gl';
import CountryPopup from"./CountryPopup.js";
const Map = ReactMapboxGl({
  accessToken: "pk.eyJ1IjoiYmxpc2h0ZW4iLCJhIjoiMEZrNzFqRSJ9.0QBRA2HxTb8YHErUFRMPZg"
});
const MAP_STYLE_DEFAULT = "mapbox://styles/mapbox/light-v9";
// const INITIAL_CENTER = [-175.15, -21.15];
const INITIAL_CENTER = [0,0];
const INITIAL_ZOOM = [2];
const TILES_BASE_URL = "https://geospatial.jrc.ec.europa.eu/geoserver/gwc/service/wmts?layer=marxan:";
const REST_BASE_URL = "https://61c92e42cb1042699911c485c38d52ae.vfs.cloud9.eu-west-1.amazonaws.com/python-rest-server/pythonrestserver/services/";
const SOURCE_NAME_FROM = "wdpa_from";
const SOURCE_NAME_TO = "wdpa_to";
const LAYER_NAME_FROM = "from";
const LAYER_NAME_FROM_DELETED = "from_deleted";
const LAYER_NAME_TO = "to";
const LAYER_NAME_TO_NEW = "to_new";
const LAYER_NAME_TO_CHANGED = "to_changed";
const PAINT_WDPA_DEFAULT = {"fill-color": {"type": "categorical","property": "marine","stops": [["0", "rgb(99,148,69)"],["1", "rgb(63,127,191)"],["2", "rgb(63,127,191)"]]},"fill-outline-color": {"type": "categorical","property": "marine","stops": [["0", "rgb(99,148,69)"],["1", "rgb(63,127,191)"],["2", "rgb(63,127,191)"]]},"fill-opacity": 1};
const PAINT_WDPA_RED = {"fill-color": "rgb(255,0,0)"};
const VERSIONS = ["aug_2019", "sep_2019"];
const countries_data = [{"name":"Afghanistan","iso2":"AF","iso3":"AFG","un_m49":"4","centroid":[66.0274920344418,33.8319187546363],"extent":"BOX(60.4758290002083 29.3772500001874,74.8898619998315 38.4906960004201)"},
{"name":"Albania","iso2":"AL","iso3":"ALB","un_m49":"8","centroid":[20.0653861504697,41.1390920426827],"extent":"BOX(19.2627570004353 39.6478899998237,21.0572799996723 42.6610800004417)"},
{"name":"Algeria","iso2":"DZ","iso3":"DZA","un_m49":"12","centroid":[2.67637339679029,28.1550771077544],"extent":"BOX(-8.66666700118111 18.9632860002488,11.9984999995754 37.0934692012427)"},
{"name":"American Samoa","iso2":"AS","iso3":"ASM","un_m49":"16","centroid":[-170.366312726535,-14.24848885279],"extent":"BOX(-171.089985000108 -14.3738316996731,-169.418909699723 -11.050314059746)"},
{"name":"Andorra","iso2":"AD","iso3":"AND","un_m49":"20","centroid":[1.57681074398341,42.5513841050769],"extent":"BOX(1.42387999956236 42.4401699997458,1.78038999959887 42.6587099999666)"},
{"name":"Angola","iso2":"AO","iso3":"AGO","un_m49":"24","centroid":[17.549170931768,-12.2969940643385],"extent":"BOX(11.6728429996048 -18.0388410023103,24.0858888452941 -4.38838178359237)"},
{"name":"Anguilla","iso2":"AI","iso3":"AIA","un_m49":"660","centroid":[-63.053911052248,18.2221512948341],"extent":"BOX(-63.4272347001213 18.1502190998316,-62.922725200008 18.5943843001954)"},
{"name":"Antarctica","iso2":"AQ","iso3":"ATA","un_m49":"10","centroid":[20.6736449482221,-80.4137356499371],"extent":"BOX(-179.9999999999 -89.9999999999,180.0000000001 -60.5155334460117)"},
{"name":"Antigua and Barbuda","iso2":"AG","iso3":"ATG","un_m49":"28","centroid":[-61.8024907983773,17.295141719171],"extent":"BOX(-62.3497928000976 16.9339707558457,-61.6571595998356 17.7291471001586)"},
{"name":"Argentina","iso2":"AR","iso3":"ARG","un_m49":"32","centroid":[-65.1704211961969,-35.3946298541904],"extent":"BOX(-73.5829700000654 -55.0613899996487,-53.5961283977073 -21.7806010348099)"},
{"name":"Armenia","iso2":"AM","iso3":"ARM","un_m49":"51","centroid":[44.9369088456298,40.2948633214194],"extent":"BOX(43.4497800002468 38.8410373427992,46.6300399999461 41.301420000133)"},
{"name":"Aruba","iso2":"AW","iso3":"ABW","un_m49":"533","centroid":[-69.9705704311391,12.5090231813035],"extent":"BOX(-70.0644019997524 12.414836600129,-69.8668139000414 12.6230424997116)"},
{"name":"Australia","iso2":"AU","iso3":"AUS","un_m49":"36","centroid":[134.491270218875,-25.7303412130732],"extent":"BOX(112.921124031849 -43.7403336133056,159.109154016145 -9.14217597693971)"},
{"name":"Austria","iso2":"AT","iso3":"AUT","un_m49":"40","centroid":[14.1396167730318,47.5882957085914],"extent":"BOX(9.53591000034629 46.3780399999461,17.1627200002279 49.0170600000191)"},
{"name":"Azerbaijan","iso2":"AZ","iso3":"AZE","un_m49":"31","centroid":[48.8149580710915,40.2975691883682],"extent":"BOX(44.7719199997082 38.2628099999816,51.6758400003158 42.7107599999741)"},
{"name":"Bahamas","iso2":"BS","iso3":"BHS","un_m49":"44","centroid":[-76.4871710121242,24.1918936034896],"extent":"BOX(-79.3147957997863 20.912131499769,-72.7125482003391 27.273211999834)"},
{"name":"Bahrain","iso2":"BH","iso3":"BHR","un_m49":"48","centroid":[50.5647985034402,26.0245626089305],"extent":"BOX(50.3862266536372 25.5496850981888,50.8286933898881 26.2796936037768)"},
{"name":"Bangladesh","iso2":"BD","iso3":"BGD","un_m49":"50","centroid":[90.2794574927082,23.8369119891094],"extent":"BOX(88.0283399997912 20.7478236010784,92.6806644816805 26.6291800002568)"},
{"name":"Barbados","iso2":"BB","iso3":"BRB","un_m49":"52","centroid":[-59.5566884632261,13.1712293149212],"extent":"BOX(-59.6508346997616 13.0463108012025,-59.420292200025 13.3350864997422)"},
{"name":"Belarus","iso2":"BY","iso3":"BLR","un_m49":"112","centroid":[28.0546179131256,53.5424666763659],"extent":"BOX(23.1768699995509 51.2564099999216,32.7694600001789 56.1657999995704)"},
{"name":"Belgium","iso2":"BE","iso3":"BEL","un_m49":"56","centroid":[4.6596121764079,50.6425053599514],"extent":"BOX(2.54694700170279 49.4936100004012,6.40387000030034 51.5054399996563)"},
{"name":"Belize","iso2":"BZ","iso3":"BLZ","un_m49":"84","centroid":[-88.6968193392407,17.2008836463382],"extent":"BOX(-89.2234599996792 15.887462562847,-87.4859249997389 18.4965300000595)"},
{"name":"Benin","iso2":"BJ","iso3":"BEN","un_m49":"204","centroid":[2.34013356931532,9.65952936795535],"extent":"BOX(0.774570000305346 6.23453003323448,3.85097000026536 12.4066670003818)"},
{"name":"Bermuda","iso2":"BM","iso3":"BMU","un_m49":"60","centroid":[-64.7701543980746,32.3098716761116],"extent":"BOX(-64.8960495000843 32.2475509639059,-64.6527023316472 32.3901138319878)"},
{"name":"Bhutan","iso2":"BT","iso3":"BTN","un_m49":"64","centroid":[90.4482651254397,27.3899895365408],"extent":"BOX(88.7597200002779 26.7076300000246,92.124760000074 28.2482899996838)"},
{"name":"Bolivia (Plurinational State of)","iso2":"BO","iso3":"BOL","un_m49":"68","centroid":[-64.664644067842,-16.7094146473175],"extent":"BOX(-69.6407600002738 -22.91644642836,-57.4580999996152 -9.68057000000545)"},
{"name":"Bonaire, Sint Eustatius and Saba","iso2":"BQ","iso3":"BES","un_m49":"535","centroid":[-67.8260867989577,12.6679439855655],"extent":"BOX(-68.4208780004193 12.0269900012876,-62.9466634000958 17.6495849996481)"},
{"name":"Bosnia and Herzegovina","iso2":"BA","iso3":"BIH","un_m49":"70","centroid":[17.7846352930487,44.1714886128491],"extent":"BOX(15.7419100002464 42.56140000011,19.6219300000695 45.2759199997083)"},
{"name":"Botswana","iso2":"BW","iso3":"BWA","un_m49":"72","centroid":[23.8137611528344,-22.1880249897618],"extent":"BOX(19.9993652626968 -26.9072428080091,29.3607799996973 -17.7790219825784)"},
{"name":"Bouvet Island","iso2":"BV","iso3":"BVT","un_m49":"74","centroid":[3.36172924404656,-54.4209778001449],"extent":"BOX(3.29869549989746 -54.4478687001803,3.43161740002301 -54.3915556996358)"},
{"name":"Brazil","iso2":"BR","iso3":"BRA","un_m49":"76","centroid":[-53.0816185088324,-10.7644549113165],"extent":"BOX(-73.9855300004091 -33.750400297136,-28.8477455001546 5.26445000036728)"},
{"name":"British Indian Ocean Territory","iso2":"IO","iso3":"IOT","un_m49":"86","centroid":[72.2264357163318,-6.90874468874188],"extent":"BOX(71.239178201313 -7.44196909939438,72.4930149000177 -5.23538339902461)"},
{"name":"Brunei Darussalam","iso2":"BN","iso3":"BRN","un_m49":"96","centroid":[114.745814198039,4.52037111579308],"extent":"BOX(114.071456909109 4.00283481797254,115.364299100723 5.04717302331642)"},
{"name":"Brunei Darussalam|China|Malaysia|Philippines|Viet Nam","iso2":"BN|CN|MY|PH|VN","iso3":"BRN|CHN|MYS|PHL|VNM","un_m49":"96|156|458|608|704","centroid":[117.713694407775,15.0847050374583],"extent":"BOX(114.277870699973 9.88075300015089,117.848030799682 15.2247236008136)"},
{"name":"Bulgaria","iso2":"BG","iso3":"BGR","un_m49":"100","centroid":[25.2388258835342,42.7655529768604],"extent":"BOX(22.3570000003498 41.2446599996593,28.6092910773214 44.2154500001175)"},
{"name":"Burkina Faso","iso2":"BF","iso3":"BFA","un_m49":"854","centroid":[-1.74537702961573,12.274407006138],"extent":"BOX(-5.51891999985804 9.40111000012644,2.40507592181638 15.0825899998287)"},
{"name":"Burundi","iso2":"BI","iso3":"BDI","un_m49":"108","centroid":[29.8902698640158,-3.36597610293636],"extent":"BOX(29.0015140596262 -4.46857809590233,30.8473508846357 -2.3098620840679)"},
{"name":"Cabo Verde","iso2":"CV","iso3":"CPV","un_m49":"132","centroid":[-23.9751054197438,15.9405038374979],"extent":"BOX(-25.3587474821106 14.8022136688258,-22.6694431299964 17.1952819819779)"},
{"name":"Cambodia","iso2":"KH","iso3":"KHM","un_m49":"116","centroid":[104.919998730138,12.7083268067758],"extent":"BOX(102.343950000392 9.9146901874023,107.631307082156 14.6866017782495)"},
{"name":"Cameroon","iso2":"CM","iso3":"CMR","un_m49":"120","centroid":[12.7455176138813,5.6921707740231],"extent":"BOX(8.49895279993183 1.65255000018243,16.1919900012376 13.0780599999691)"},
{"name":"Canada","iso2":"CA","iso3":"CAN","un_m49":"124","centroid":[-98.2600590347889,61.4044124461397],"extent":"BOX(-141.000000001399 41.6769256593917,-52.6194136002574 83.1403994002122)"},
{"name":"Cayman Islands","iso2":"KY","iso3":"CYM","un_m49":"136","centroid":[-80.9409210627552,19.4065646934273],"extent":"BOX(-81.4200478003656 19.2626636004449,-79.7229800001269 19.7521500004222)"},
{"name":"Central African Republic","iso2":"CF","iso3":"CAF","un_m49":"140","centroid":[20.4856643123594,6.5753578809073],"extent":"BOX(14.4200999998152 2.22051000083593,27.4549974751534 11.0072700004102)"},
{"name":"Chad","iso2":"TD","iso3":"TCD","un_m49":"148","centroid":[18.6612992030207,15.3404101362011],"extent":"BOX(13.4788299996048 7.44107000237875,23.9999999998002 23.4394439997408)"},
{"name":"Chile","iso2":"CL","iso3":"CHL","un_m49":"152","centroid":[-71.3711009825573,-37.8859298541456],"extent":"BOX(-109.454857999797 -56.5378122996978,-66.4175100001863 -17.4989599997042)"},
{"name":"China","iso2":"CN","iso3":"CHN","un_m49":"156","centroid":[103.916490758079,36.569891959331],"extent":"BOX(73.5587500003123 18.161265571449,134.779380000187 53.5580899999536)"},
{"name":"China|India","iso2":"CN|IN","iso3":"CHN|IND","un_m49":"156|356","centroid":[89.0154646261638,30.4375437511161],"extent":"BOX(77.9243499996528 26.8582699995609,97.4107800003968 35.9847700001354)"},
{"name":"China|Japan","iso2":"CN|JP","iso3":"CHN|JPN","un_m49":"156|392","centroid":[123.509718005578,25.7647754855216],"extent":"BOX(123.457796999632 25.7203430001294,123.689325999895 25.9291250000188)"},
{"name":"China|Viet Nam","iso2":"CN|VN","iso3":"CHN|VNM","un_m49":"156|704","centroid":[112.155747174591,16.6374435373312],"extent":"BOX(111.195764599657 15.7809199007329,112.739488700144 17.112750000812)"},
{"name":"Christmas Island","iso2":"CX","iso3":"CXR","un_m49":"162","centroid":[105.639513643196,-10.4837334053305],"extent":"BOX(105.53617270011 -10.5698515003464,105.71314800038 -10.4126805989304)"},
{"name":"Cocos (Keeling) Islands","iso2":"CC","iso3":"CCK","un_m49":"166","centroid":[96.8606638980243,-12.1373911954933],"extent":"BOX(96.8178438003512 -12.2067489998664,96.9295248001295 -11.8216509998937)"},
{"name":"Colombia","iso2":"CO","iso3":"COL","un_m49":"170","centroid":[-73.0824615621689,3.90660789642385],"extent":"BOX(-81.8559480000002 -4.23049000001345,-66.8698300001544 13.3938499999776)"},
{"name":"Comoros","iso2":"KM","iso3":"COM","un_m49":"174","centroid":[43.6826249972505,-11.894693123852],"extent":"BOX(43.2287869003952 -12.4219405003537,44.5406406998085 -11.3649105002194)"},
{"name":"Congo","iso2":"CG","iso3":"COG","un_m49":"178","centroid":[15.2414506166566,-0.828725055052405],"extent":"BOX(11.2010313220379 -4.99931745483661,18.6472137372243 3.70307999984215)"},
{"name":"Congo (Democratic Republic of the)","iso2":"CD","iso3":"COD","un_m49":"180","centroid":[23.656009798564,-2.87698684296032],"extent":"BOX(12.1954545224083 -13.4556760791876,31.3118001489578 5.3923256686947)"},
{"name":"Cook Islands","iso2":"CK","iso3":"COK","un_m49":"184","centroid":[-158.819055026291,-19.9334429594693],"extent":"BOX(-165.925853199565 -21.9584581985869,-157.323766699673 -8.91651999929849)"},
{"name":"Costa Rica","iso2":"CR","iso3":"CRI","un_m49":"188","centroid":[-84.195344387207,9.97295498589138],"extent":"BOX(-87.1019799998771 5.49908990037864,-82.5549585294125 11.2135500000325)"},
{"name":"Croatia","iso2":"HR","iso3":"HRV","un_m49":"191","centroid":[16.4051620246445,45.036059886828],"extent":"BOX(13.4932257506679 42.3907027690177,19.4491199997882 46.538640000136)"},
{"name":"Cuba","iso2":"CU","iso3":"CUB","un_m49":"192","centroid":[-79.0216600845024,21.6274289169448],"extent":"BOX(-84.950982500442 19.8264288995741,-74.1344012996802 23.2736649999399)"},
{"name":"Curaçao","iso2":"CW","iso3":"CUW","un_m49":"531","centroid":[-68.9674960317717,12.1897827480264],"extent":"BOX(-69.1563928003874 11.9789766010893,-68.639096600028 12.3905464998211)"},
{"name":"Cyprus","iso2":"CY","iso3":"CYP","un_m49":"196","centroid":[33.2285722251162,35.0506209134932],"extent":"BOX(32.2714682997223 34.5628939995585,34.6066890001973 35.7109439999657)"},
{"name":"Czechia","iso2":"CZ","iso3":"CZE","un_m49":"203","centroid":[15.3331147631817,49.739394473146],"extent":"BOX(12.0961899998687 48.5429200001579,18.860100000115 51.0587700003353)"},
{"name":"Côte d'Ivoire","iso2":"CI","iso3":"CIV","un_m49":"384","centroid":[-5.55319024768457,7.62500952283296],"extent":"BOX(-8.59929999989504 4.36172642333582,-2.49271594858209 10.7366400001359)"},
{"name":"Denmark","iso2":"DK","iso3":"DNK","un_m49":"208","centroid":[10.0247081014028,55.9886606816094],"extent":"BOX(8.07560348481303 54.562381744422,15.1935615757062 57.7431869509171)"},
{"name":"Djibouti","iso2":"DJ","iso3":"DJI","un_m49":"262","centroid":[42.5800825741427,11.7332798220229],"extent":"BOX(41.7713358438742 10.9147816203755,43.4528436999768 12.7134894007153)"},
{"name":"Dominica","iso2":"DM","iso3":"DMA","un_m49":"212","centroid":[-61.3513783834442,15.4353746254825],"extent":"BOX(-61.4797401999502 15.2087511997082,-61.2400927003178 15.6407735001969)"},
{"name":"Dominican Republic","iso2":"DO","iso3":"DOM","un_m49":"214","centroid":[-70.4947270485637,18.8951328996783],"extent":"BOX(-72.0034899998636 17.5425326998243,-68.3229612000993 19.9319998999754)"},
{"name":"Ecuador","iso2":"EC","iso3":"ECU","un_m49":"218","centroid":[-78.7671269687743,-1.43195157826192],"extent":"BOX(-92.0077499998625 -4.99882000024274,-75.1845800000669 1.68104000009595)"},
{"name":"Egypt","iso2":"EG","iso3":"EGY","un_m49":"818","centroid":[29.7752943439629,26.576742650257],"extent":"BOX(24.6980999998152 22.0000000001999,36.2478198999685 31.6665800125576)"},
{"name":"Egypt|Sudan","iso2":"EG|SD","iso3":"EGY|SDN","un_m49":"818|729","centroid":[35.3253822473041,22.3171067674361],"extent":"BOX(33.1826329539477 21.7253899998487,36.8927122998329 23.1455278672174)"},
{"name":"El Salvador","iso2":"SV","iso3":"SLV","un_m49":"222","centroid":[-88.8643638949737,13.7315236196072],"extent":"BOX(-90.1243226500702 13.155435899847,-87.684616340072 14.4450500001574)"},
{"name":"Equatorial Guinea","iso2":"GQ","iso3":"GNQ","un_m49":"226","centroid":[10.3318842640355,1.70356007012247],"extent":"BOX(5.61837259961584 -1.46676169979258,11.3347800003967 3.78821400027596)"},
{"name":"Eritrea","iso2":"ER","iso3":"ERI","un_m49":"232","centroid":[38.8392278698803,15.3810663714069],"extent":"BOX(36.4387627669881 12.352640000036,43.1586181997702 18.0050423000621)"},
{"name":"Estonia","iso2":"EE","iso3":"EST","un_m49":"233","centroid":[25.5487409255806,58.6711860531782],"extent":"BOX(21.7648102996557 57.5200599999691,28.2121899995689 59.700143500722)"},
{"name":"Ethiopia","iso2":"ET","iso3":"ETH","un_m49":"231","centroid":[39.6359909552366,8.6300014919746],"extent":"BOX(33.00020000003 3.40110871079844,47.9861799998072 14.8941641058888)"},
{"name":"Falkland Islands (Malvinas)","iso2":"FK","iso3":"FLK","un_m49":"238","centroid":[-59.3737138158859,-51.7410570383898],"extent":"BOX(-61.4539601001784 -52.9178099996317,-57.6868475002119 -50.9970799000174)"},
{"name":"Faroe Islands","iso2":"FO","iso3":"FRO","un_m49":"234","centroid":[-6.89536045265897,62.0704234298687],"extent":"BOX(-7.68829389974366 61.3927858010239,-6.25655249999784 62.3938847004187)"},
{"name":"Fiji","iso2":"FJ","iso3":"FJI","un_m49":"242","centroid":[163.491764183764,-17.44735310854],"extent":"BOX(-179.9999999999 -20.6754455555679,180.0000000001 -12.4801158907357)"},
{"name":"Finland","iso2":"FI","iso3":"FIN","un_m49":"246","centroid":[26.2451727741028,64.485987391793],"extent":"BOX(19.317701339845 59.7678146464289,31.5809399995813 70.0960499998077)"},
{"name":"France","iso2":"FR","iso3":"FRA","un_m49":"250","centroid":[2.54963952474201,46.5619158822689],"extent":"BOX(-109.233447100104 10.2873344008619,9.56155300117013 51.0928115835878)"},
{"name":"French Guiana","iso2":"GF","iso3":"GUF","un_m49":"254","centroid":[-53.2355550215161,3.92661850438833],"extent":"BOX(-54.5444482823623 2.12708999960387,-51.6345500997073 5.75069840031097)"},
{"name":"French Polynesia","iso2":"PF","iso3":"PYF","un_m49":"258","centroid":[-145.347068242724,-15.3133222097562],"extent":"BOX(-154.726822000435 -27.8999552001723,-134.451376800099 -7.86020020007913)"},
{"name":"French Southern Territories","iso2":"TF","iso3":"ATF","un_m49":"260","centroid":[68.6949149627983,-49.0210876326556],"extent":"BOX(39.682900000035 -49.9604464987069,77.5970332001222 -11.5148548004087)"},
{"name":"Gabon","iso2":"GA","iso3":"GAB","un_m49":"266","centroid":[11.7910063416489,-0.624878486965455],"extent":"BOX(8.69933000037929 -3.9915751303879,14.5016699995709 2.32261000035129)"},
{"name":"Gambia","iso2":"GM","iso3":"GMB","un_m49":"270","centroid":[-15.4545398473095,13.448088545076],"extent":"BOX(-16.8237050000856 13.0636657525725,-13.8025639520647 13.8154887290217)"},
{"name":"Georgia","iso2":"GE","iso3":"GEO","un_m49":"268","centroid":[43.5117791977811,42.1789532129807],"extent":"BOX(40.0102382753761 41.0532499995879,46.7210200001729 43.5845400004208)"},
{"name":"Germany","iso2":"DE","iso3":"DEU","un_m49":"276","centroid":[10.393097433517,51.1084650703045],"extent":"BOX(5.86563000142348 47.2757899996088,15.0398799997622 55.0537986758683)"},
{"name":"Ghana","iso2":"GH","iso3":"GHA","un_m49":"288","centroid":[-1.20617583375783,7.96534328691834],"extent":"BOX(-3.25565383595574 4.73934300097875,1.20031957628748 11.1651621554092)"},
{"name":"Gibraltar","iso2":"GI","iso3":"GIB","un_m49":"292","centroid":[-5.34567562762805,36.1439832055605],"extent":"BOX(-5.35322189317577 36.1124038704423,-5.34002685575473 36.1597976692271)"},
{"name":"Greece","iso2":"GR","iso3":"GRC","un_m49":"300","centroid":[22.9866541047817,39.0457038468313],"extent":"BOX(19.3800888057538 34.8096389775568,29.64559173577 41.7574100002714)"},
{"name":"Greenland","iso2":"GL","iso3":"GRL","un_m49":"304","centroid":[-41.3435467898046,74.7285550728388],"extent":"BOX(-73.2634658809456 59.7772674573274,-11.3123188016713 83.6274185191494)"},
{"name":"Grenada","iso2":"GD","iso3":"GRD","un_m49":"308","centroid":[-61.6821474807668,12.1162108745333],"extent":"BOX(-61.802415399651 11.9855446998281,-61.5438119998239 12.3296541999814)"},
{"name":"Guadeloupe","iso2":"GP","iso3":"GLP","un_m49":"312","centroid":[-61.5413161193308,16.1984039532639],"extent":"BOX(-61.8097640002084 15.8320557003104,-61.0010618001619 16.5144664013034)"},
{"name":"Guam","iso2":"GU","iso3":"GUM","un_m49":"316","centroid":[144.777026600559,13.443385679351],"extent":"BOX(144.618231999707 13.2339707002876,144.956141599755 13.6543813996819)"},
{"name":"Guatemala","iso2":"GT","iso3":"GTM","un_m49":"320","centroid":[-90.3556235306214,15.6956290253911],"extent":"BOX(-92.2313200377895 13.7382000004297,-88.2213203139813 17.815220000003)"},
{"name":"Guernsey","iso2":"GG","iso3":"GGY","un_m49":"831","centroid":[-2.53161931547978,49.4772896478936],"extent":"BOX(-2.67580819998841 49.4002822003633,-2.15684810005973 49.7375210005937)"},
{"name":"Guinea","iso2":"GN","iso3":"GIN","un_m49":"324","centroid":[-10.9112467166403,10.4359597394561],"extent":"BOX(-15.0751488003768 7.19355000033232,-7.64106999998046 12.6762127717021)"},
{"name":"Guinea-Bissau","iso2":"GW","iso3":"GNB","un_m49":"624","centroid":[-14.8910194236735,12.0456069392283],"extent":"BOX(-16.7074315043604 10.8593319995722,-13.6318717445853 12.680790000758)"},
{"name":"Guyana","iso2":"GY","iso3":"GUY","un_m49":"328","centroid":[-58.974369101378,4.79697995814587],"extent":"BOX(-61.3962700001603 1.17527000031032,-56.4773672102285 8.53415826059529)"},
{"name":"Haiti","iso2":"HT","iso3":"HTI","un_m49":"332","centroid":[-72.6831977376722,18.9372937564387],"extent":"BOX(-74.4809321003361 18.0219521014084,-71.6133599998641 20.089626001339)"},
{"name":"Heard Island and McDonald Islands","iso2":"HM","iso3":"HMD","un_m49":"334","centroid":[73.5078357836451,-53.1016057119434],"extent":"BOX(72.5789897000147 -53.21858589902,73.8779740003998 -52.9613017992386)"},
{"name":"Holy See","iso2":"VA","iso3":"VAT","un_m49":"336","centroid":[12.4512699999106,41.9039333333567],"extent":"BOX(12.4457699995859 41.9019200004078,12.457520000048 41.9065299998597)"},
{"name":"Honduras","iso2":"HN","iso3":"HND","un_m49":"340","centroid":[-86.6102195838265,14.8211725097854],"extent":"BOX(-89.353185365712 12.9827227106846,-82.4437100001164 17.4164799995524)"},
{"name":"Hong Kong","iso2":"HK","iso3":"HKG","un_m49":"344","centroid":[114.129839751968,22.380325011162],"extent":"BOX(113.837738948194 22.1532420172054,114.434753115064 22.5644699999905)"},
{"name":"Hungary","iso2":"HU","iso3":"HUN","un_m49":"348","centroid":[19.417779109976,47.1657835942311],"extent":"BOX(16.1118900000235 45.7436000002399,22.9059900003383 48.5851099996268)"},
{"name":"Iceland","iso2":"IS","iso3":"ISL","un_m49":"352","centroid":[-18.5942108421621,64.9891179719985],"extent":"BOX(-24.5465240477466 63.2929611218584,-13.4958152772532 66.5625381467182)"},
{"name":"India","iso2":"IN","iso3":"IND","un_m49":"356","centroid":[79.4423315970716,22.3155982739275],"extent":"BOX(68.1783456997942 6.75599710038591,97.1659700001155 33.1708299996048)"},
{"name":"India|Pakistan","iso2":"IN|PK","iso3":"IND|PAK","un_m49":"356|586","centroid":[75.803456617611,34.5545160943514],"extent":"BOX(72.5127699998357 32.2594399995564,79.3073499998027 37.089420000133)"},
{"name":"Indonesia","iso2":"ID","iso3":"IDN","un_m49":"360","centroid":[117.270464720513,-2.22661624684412],"extent":"BOX(95.0156100004012 -11.0074968326127,141.019444400039 5.90441000012146)"},
{"name":"Iran (Islamic Republic of)","iso2":"IR","iso3":"IRN","un_m49":"364","centroid":[54.19946985761,32.7371587951928],"extent":"BOX(44.0472900002334 25.0640869143796,63.3174599997792 39.7762099997917)"},
{"name":"Iraq","iso2":"IQ","iso3":"IRQ","un_m49":"368","centroid":[43.7743884042048,33.0455022352787],"extent":"BOX(38.7925000002749 29.0612110003874,48.5754547117656 37.3789474311791)"},
{"name":"Ireland","iso2":"IE","iso3":"IRL","un_m49":"372","centroid":[-8.15178675362706,53.1801660393377],"extent":"BOX(-10.6181230554346 51.4245452882345,-6.00238180187858 55.4365043640852)"},
{"name":"Isle of Man","iso2":"IM","iso3":"IMN","un_m49":"833","centroid":[-4.54018676412636,54.2273219319838],"extent":"BOX(-4.83901480019284 54.0377854007757,-4.30768529983669 54.416445700109)"},
{"name":"Israel","iso2":"IL","iso3":"ISR","un_m49":"376","centroid":[34.9685486459536,31.3584637626169],"extent":"BOX(34.2688393921243 29.4929434340922,35.684601516347 33.2882889996377)"},
{"name":"Italy","iso2":"IT","iso3":"ITA","un_m49":"380","centroid":[12.0773995750451,42.787149978335],"extent":"BOX(6.61568000043172 35.4943656918232,18.51345253041 47.0952099998417)"},
{"name":"Jamaica","iso2":"JM","iso3":"JAM","un_m49":"388","centroid":[-77.3091317557478,18.157078002626],"extent":"BOX(-78.3689286001747 17.7095654004229,-76.1832017996233 18.525454000202)"},
{"name":"Japan","iso2":"JP","iso3":"JPN","un_m49":"392","centroid":[137.972901034987,37.5495471957355],"extent":"BOX(122.93865966761 24.0402469654252,153.984808090721 45.5231361388218)"},
{"name":"Japan|Russian Federation","iso2":"JP|RU","iso3":"JPN|RUS","un_m49":"392|643","centroid":[147.21744920198,44.7190408818131],"extent":"BOX(145.404738800355 43.3621102003256,148.893355700106 45.5567818998649)"},
{"name":"Jersey","iso2":"JE","iso3":"JEY","un_m49":"832","centroid":[-2.13184684659211,49.2143255385115],"extent":"BOX(-2.25377729998235 49.1477060002318,-2.01043200033649 49.2621288000042)"},
{"name":"Jordan","iso2":"JO","iso3":"JOR","un_m49":"400","centroid":[36.7850494766715,31.2478854662114],"extent":"BOX(34.9570447632053 29.1837499001379,39.3011699997957 33.3747199996283)"},
{"name":"Kazakhstan","iso2":"KZ","iso3":"KAZ","un_m49":"398","centroid":[66.6473692429125,48.0202316730103],"extent":"BOX(46.4918600003388 40.5911100000266,87.3125800001669 55.4318100001315)"},
{"name":"Kenya","iso2":"KE","iso3":"KEN","un_m49":"404","centroid":[37.8600807739873,0.534736431963843],"extent":"BOX(33.9127635946642 -4.72410629996574,41.9101189989927 4.62000000039973)"},
{"name":"Kenya|Sudan","iso2":"KE|SD","iso3":"KEN|SDN","un_m49":"404|729","centroid":[35.0379117674079,4.75990160919219],"extent":"BOX(34.3784600001289 4.62000000039973,35.5087699999356 5.02304999995761)"},
{"name":"Kiribati","iso2":"KI","iso3":"KIR","un_m49":"296","centroid":[-57.6894272553621,0.816080302781072],"extent":"BOX(-174.540991099859 -10.0102109004127,176.845502100242 4.69396540038298)"},
{"name":"Korea (Democratic People's Republic of)","iso2":"KP","iso3":"PRK","un_m49":"408","centroid":[127.177417888999,40.1444065402876],"extent":"BOX(124.316110278766 37.6733347922669,130.674864489005 43.0114800002019)"},
{"name":"Korea (Republic of)","iso2":"KR","iso3":"KOR","un_m49":"410","centroid":[127.808704318957,36.3600976317499],"extent":"BOX(124.608137757651 33.1085128786665,130.923217773182 38.6149496797839)"},
{"name":"Kuwait","iso2":"KW","iso3":"KWT","un_m49":"414","centroid":[47.6133531192738,29.3513916554767],"extent":"BOX(46.5530397486855 28.5213939998333,48.4332729925546 30.1036989999089)"},
{"name":"Kyrgyzstan","iso2":"KG","iso3":"KGZ","un_m49":"417","centroid":[74.556139696624,41.4645268470938],"extent":"BOX(69.2795899995789 39.1728400002659,80.2826099999516 43.2382300004143)"},
{"name":"Lao People's Democratic Republic","iso2":"LA","iso3":"LAO","un_m49":"418","centroid":[103.768077012911,18.5063657919503],"extent":"BOX(100.085316175101 13.9144450431043,107.706173885217 22.5017637576913)"},
{"name":"Latvia","iso2":"LV","iso3":"LVA","un_m49":"428","centroid":[24.9305962289267,56.8545908633506],"extent":"BOX(20.9742660520367 55.6688599995894,28.241160000034 58.0818100002314)"},
{"name":"Lebanon","iso2":"LB","iso3":"LBN","un_m49":"422","centroid":[35.8969711249311,33.9230129505932],"extent":"BOX(35.1150374678049 33.0572999999951,36.625220000003 34.6848599996893)"},
{"name":"Lesotho","iso2":"LS","iso3":"LSO","un_m49":"426","centroid":[28.2533310168022,-29.5799854787439],"extent":"BOX(27.0290699997807 -30.6689600000039,29.4657599530594 -28.5720599996692)"},
{"name":"Liberia","iso2":"LR","iso3":"LBR","un_m49":"430","centroid":[-9.30998113047622,6.44679124020707],"extent":"BOX(-11.497477975728 4.36172642333582,-7.36511000032618 8.55178999990864)"},
{"name":"Libya","iso2":"LY","iso3":"LBY","un_m49":"434","centroid":[18.0345695873519,27.0239870788112],"extent":"BOX(9.38996818598304 19.4999999998002,25.1471547871637 33.165108996583)"},
{"name":"Liechtenstein","iso2":"LI","iso3":"LIE","un_m49":"438","centroid":[9.55577794882545,47.1446828383185],"extent":"BOX(9.47781999969328 47.0615499998327,9.63219000036827 47.2735400001709)"},
{"name":"Lithuania","iso2":"LT","iso3":"LTU","un_m49":"440","centroid":[23.9040848681957,55.3359407705879],"extent":"BOX(20.9415133672481 53.901299999995,26.8719400004308 56.4468999997353)"},
{"name":"Luxembourg","iso2":"LU","iso3":"LUX","un_m49":"442","centroid":[6.09436402438296,49.7782482375271],"extent":"BOX(5.73455000008249 49.4465799998671,6.52700000014994 50.1849499998427)"},
{"name":"Macao","iso2":"MO","iso3":"MAC","un_m49":"446","centroid":[113.553693614535,22.1748086339222],"extent":"BOX(113.530296625389 22.1107201184388,113.591042504808 22.2145200488612)"},
{"name":"Macedonia (the former Yugoslav Republic of)","iso2":"MK","iso3":"MKD","un_m49":"807","centroid":[21.6998277433262,41.6006015219609],"extent":"BOX(20.4524199997832 40.855220000003,23.0339699999156 42.3742100003913)"},
{"name":"Madagascar","iso2":"MG","iso3":"MDG","un_m49":"450","centroid":[46.700401827447,-19.3930463781706],"extent":"BOX(43.1881559997996 -25.6051654000631,50.4921515003915 -11.9498970989719)"},
{"name":"Malawi","iso2":"MW","iso3":"MWI","un_m49":"454","centroid":[34.3061498887624,-13.222848456958],"extent":"BOX(32.6739499996928 -17.1288105002044,35.9320000001999 -9.36896000030373)"},
{"name":"Malaysia","iso2":"MY","iso3":"MYS","un_m49":"458","centroid":[109.709731059929,3.79067176125668],"extent":"BOX(98.9354934688486 0.855219999903113,119.267066956175 7.36340713513124)"},
{"name":"Maldives","iso2":"MV","iso3":"MDV","un_m49":"462","centroid":[73.2348449794198,3.72120988950283],"extent":"BOX(72.6389659000563 -0.703674299229476,73.7656055003936 7.10581620015756)"},
{"name":"Mali","iso2":"ML","iso3":"MLI","un_m49":"466","centroid":[-3.52212314071215,17.3539311757545],"extent":"BOX(-12.2391646286446 10.1614299996948,4.24295162162008 24.9999999996003)"},
{"name":"Malta","iso2":"MT","iso3":"MLT","un_m49":"470","centroid":[14.396798159235,35.9247958451548],"extent":"BOX(14.1857538012969 35.7862571005847,14.5764915001826 36.0821530995859)"},
{"name":"Marshall Islands","iso2":"MH","iso3":"MHL","un_m49":"584","centroid":[169.431951099037,7.75505491272064],"extent":"BOX(165.218987600398 4.57303490034042,172.171298599551 14.6718386001713)"},
{"name":"Martinique","iso2":"MQ","iso3":"MTQ","un_m49":"474","centroid":[-61.0180331579154,14.6519804727135],"extent":"BOX(-61.2281400996858 14.3887897997095,-60.8095832996295 14.8748165005811)"},
{"name":"Mauritania","iso2":"MR","iso3":"MRT","un_m49":"478","centroid":[-10.3314916382379,20.2579670154167],"extent":"BOX(-17.0663700003752 14.7155499998327,-4.83333300041761 27.3127389997051)"},
{"name":"Mauritius","iso2":"MU","iso3":"MUS","un_m49":"480","centroid":[57.8886377331565,-20.1744512717404],"extent":"BOX(56.5875576001032 -20.5253569987265,63.5021227004024 -10.3372319003319)"},
{"name":"Mayotte","iso2":"YT","iso3":"MYT","un_m49":"175","centroid":[45.1486695071229,-12.8224579292176],"extent":"BOX(45.0186985997606 -13.0050608988414,45.2999903003122 -12.6431299986505)"},
{"name":"Mexico","iso2":"MX","iso3":"MEX","un_m49":"484","centroid":[-102.543034934273,23.947342062599],"extent":"BOX(-118.367086800415 14.5333153113526,-86.7112346000967 32.7167599998742)"},
{"name":"Micronesia (Federated States of)","iso2":"FM","iso3":"FSM","un_m49":"583","centroid":[155.469805617865,7.04957223210438],"extent":"BOX(137.423824399676 1.02625259987764,163.035253899848 11.6766865005816)"},
{"name":"Moldova (Republic of)","iso2":"MD","iso3":"MDA","un_m49":"498","centroid":[28.4722545305063,47.2036137700702],"extent":"BOX(26.6188899996738 45.4689000002349,30.1597399996014 48.4901700002454)"},
{"name":"Monaco","iso2":"MC","iso3":"MCO","un_m49":"492","centroid":[7.41957637701961,43.7507345225421],"extent":"BOX(7.3957499997627 43.7319602984291,7.45228624261603 43.7625100003363)"},
{"name":"Mongolia","iso2":"MN","iso3":"MNG","un_m49":"496","centroid":[103.07161219664,46.8403732994303],"extent":"BOX(87.7472179752294 41.5864687552289,119.932281012559 52.1542500001374)"},
{"name":"Montenegro","iso2":"ME","iso3":"MNE","un_m49":"499","centroid":[19.2478885226244,42.7880018365719],"extent":"BOX(18.4339799996773 41.8531280849932,20.3579200000081 43.5587000004048)"},
{"name":"Montserrat","iso2":"MS","iso3":"MSR","un_m49":"500","centroid":[-62.1901251870506,16.7422258700872],"extent":"BOX(-62.2419759002676 16.6747803010701,-62.1495067998989 16.8239088999758)"},
{"name":"Morocco","iso2":"MA","iso3":"MAR","un_m49":"504","centroid":[-6.28240087662772,31.8415225977359],"extent":"BOX(-13.1730279069124 27.6620363568924,-0.998926357565324 35.9224271001306)"},
{"name":"Mozambique","iso2":"MZ","iso3":"MOZ","un_m49":"508","centroid":[35.5531214126252,-17.2607983534385],"extent":"BOX(30.217320000118 -26.8686800000819,40.8379030000235 -10.473774498894)"},
{"name":"Myanmar","iso2":"MM","iso3":"MMR","un_m49":"104","centroid":[96.5113957311781,21.1310819518387],"extent":"BOX(92.1727331412216 9.60173457259248,101.169364387856 28.5478351228926)"},
{"name":"Namibia","iso2":"NA","iso3":"NAM","un_m49":"516","centroid":[17.2219013268012,-22.1377777265502],"extent":"BOX(11.737266000026 -28.9687970768236,25.2628044321788 -16.963192952093)"},
{"name":"Nauru","iso2":"NR","iso3":"NRU","un_m49":"520","centroid":[166.932513896983,-0.528233834291248],"extent":"BOX(166.910833499766 -0.554091700071865,166.95887280044 -0.502681299702147)"},
{"name":"Nepal","iso2":"NP","iso3":"NPL","un_m49":"524","centroid":[83.9459372640569,28.2589636378279],"extent":"BOX(80.0587518210398 26.3549098366197,88.1996468039569 30.449680000032)"},
{"name":"Netherlands","iso2":"NL","iso3":"NLD","un_m49":"528","centroid":[5.62073995348195,52.2520282617444],"extent":"BOX(3.36255000018241 50.7539299998696,7.22793999983116 53.5551490783673)"},
{"name":"New Caledonia","iso2":"NC","iso3":"NCL","un_m49":"540","centroid":[165.707498853048,-21.3078497203463],"extent":"BOX(158.236287199894 -22.881466200205,172.089861200334 -18.0259202985829)"},
{"name":"New Zealand","iso2":"NZ","iso3":"NZL","un_m49":"554","centroid":[171.449841862341,-41.8036161981059],"extent":"BOX(-178.564163208066 -52.6075935363126,179.102386475256 -29.2435512537873)"},
{"name":"Nicaragua","iso2":"NI","iso3":"NIC","un_m49":"558","centroid":[-85.0371787045146,12.8442961183286],"extent":"BOX(-87.6917582989063 10.7075399999711,-82.7343153001109 15.0259100003463)"},
{"name":"Niger","iso2":"NE","iso3":"NER","un_m49":"562","centroid":[9.40021668312053,17.4196209000312],"extent":"BOX(0.167999999800202 11.6969699997657,15.9956399999861 23.5126959999205)"},
{"name":"Nigeria","iso2":"NG","iso3":"NGA","un_m49":"566","centroid":[8.09961213215774,9.59292860377975],"extent":"BOX(2.66843000024437 4.26873300022783,14.6760304580392 13.9010254791426)"},
{"name":"Niue","iso2":"NU","iso3":"NIU","un_m49":"570","centroid":[-169.859383505534,-19.0528597429888],"extent":"BOX(-169.951738500331 -19.1552436998368,-169.774405000091 -18.9507366003138)"},
{"name":"Norfolk Island","iso2":"NF","iso3":"NFK","un_m49":"574","centroid":[167.951536313969,-29.0396950849556],"extent":"BOX(167.919952500108 -29.1331715999893,167.99658570027 -28.9954547997991)"},
{"name":"Northern Mariana Islands","iso2":"MP","iso3":"MNP","un_m49":"580","centroid":[145.60507946734,15.7815168091873],"extent":"BOX(144.887706300106 14.1110070001729,146.063497699359 20.5498789012903)"},
{"name":"Norway","iso2":"NO","iso3":"NOR","un_m49":"578","centroid":[14.085590720229,64.464530286626],"extent":"BOX(4.65015792794605 57.9665794383904,31.1381969448332 71.1881103527107)"},
{"name":"Oman","iso2":"OM","iso3":"OMN","un_m49":"512","centroid":[56.1043861146723,20.597594819317],"extent":"BOX(51.9999999996003 16.6543871682333,59.8365797616468 26.387966244047)"},
{"name":"Pakistan","iso2":"PK","iso3":"PAK","un_m49":"586","centroid":[68.8081638938081,29.3985138766352],"extent":"BOX(60.8729719989586 23.704030197036,75.3808099995819 36.9086899997437)"},
{"name":"Palau","iso2":"PW","iso3":"PLW","un_m49":"585","centroid":[134.521263630568,7.43809071664119],"extent":"BOX(131.12081579961 2.99930900001038,134.719239790784 8.17192319979586)"},
{"name":"Palestine, State of","iso2":"PS","iso3":"PSE","un_m49":"275","centroid":[35.2028117305794,31.9107676739777],"extent":"BOX(34.2197962403043 31.2205349368379,35.5741691892567 32.5524115570478)"},
{"name":"Panama","iso2":"PA","iso3":"PAN","un_m49":"591","centroid":[-80.1111424588394,8.51319347500294],"extent":"BOX(-83.0525798980438 7.20398990081333,-77.1639430849054 9.64568000013196)"},
{"name":"Papua New Guinea","iso2":"PG","iso3":"PNG","un_m49":"598","centroid":[145.250328879657,-6.47724910560614],"extent":"BOX(140.841789291443 -11.6578540789026,159.478195190256 -0.878798006922409)"},
{"name":"Paraguay","iso2":"PY","iso3":"PRY","un_m49":"600","centroid":[-58.3954034277661,-23.2330281650017],"extent":"BOX(-62.6452023342203 -27.5876107826115,-54.2599699996157 -19.2871454000401)"},
{"name":"Peru","iso2":"PE","iso3":"PER","un_m49":"604","centroid":[-74.3614788010154,-9.16946638954163],"extent":"BOX(-81.3281954001975 -18.353577779291,-68.6779899996387 -0.0129800004266372)"},
{"name":"Philippines","iso2":"PH","iso3":"PHL","un_m49":"608","centroid":[122.870183090762,11.7473167602642],"extent":"BOX(116.931732177598 4.61438703473391,126.60048675516 21.1206207289635)"},
{"name":"Pitcairn","iso2":"PN","iso3":"PCN","un_m49":"612","centroid":[-128.381514305608,-24.4108968884682],"extent":"BOX(-130.755752100079 -25.0802883995899,-124.775109600028 -23.9097123991079)"},
{"name":"Poland","iso2":"PL","iso3":"POL","un_m49":"616","centroid":[19.400626411581,52.1246390658644],"extent":"BOX(14.1229899996888 49.009240000026,24.1506800002819 54.8383483891669)"},
{"name":"Portugal","iso2":"PT","iso3":"PRT","un_m49":"620","centroid":[-8.50731101860452,39.5948137774072],"extent":"BOX(-31.2688376999998 30.0307732000232,-6.18405000020732 42.1456500003473)"},
{"name":"Puerto Rico","iso2":"PR","iso3":"PRI","un_m49":"630","centroid":[-66.4691468900709,18.2228452234924],"extent":"BOX(-67.9513433999779 17.8814068002836,-65.2217244999857 18.5161105000996)"},
{"name":"Qatar","iso2":"QA","iso3":"QAT","un_m49":"634","centroid":[51.1987586775254,25.2808012762424],"extent":"BOX(50.7572326656551 24.4711110002725,52.4275856017941 26.1769767862497)"},
{"name":"Romania","iso2":"RO","iso3":"ROU","un_m49":"642","centroid":[24.9885895510022,45.8438519635482],"extent":"BOX(20.2643999995604 43.6282600002988,29.6910478031137 48.2669399995814)"},
{"name":"Russian Federation","iso2":"RU","iso3":"RUS","un_m49":"643","centroid":[96.5923342792519,61.9515479940286],"extent":"BOX(-179.9999999999 41.1898399996164,180.0000000001 81.8573696988526)"},
{"name":"Rwanda","iso2":"RW","iso3":"RWA","un_m49":"646","centroid":[29.9232968321691,-2.0003686060444],"extent":"BOX(28.8618691498414 -2.83988146106054,30.8996498871326 -1.04791347982319)"},
{"name":"Réunion","iso2":"RE","iso3":"REU","un_m49":"638","centroid":[55.5322792379399,-21.13425845281],"extent":"BOX(55.2165012999951 -21.3897307992369,55.8366505004203 -20.8717135998027)"},
{"name":"Saint Barthélemy","iso2":"BL","iso3":"BLM","un_m49":"652","centroid":[-62.8266067262683,17.9026647777617],"extent":"BOX(-62.9510623997099 17.870918799563,-62.7890017997932 17.9744366000691)"},
{"name":"Saint Helena, Ascension and Tristan da Cunha","iso2":"SH","iso3":"SHN","un_m49":"654","centroid":[-10.3900059563179,-25.2489222880285],"extent":"BOX(-14.4207485996681 -40.3703426001309,-5.63155410024149 -7.88910279905491)"},
{"name":"Saint Kitts and Nevis","iso2":"KN","iso3":"KNA","un_m49":"659","centroid":[-62.7001399102032,17.2702525388547],"extent":"BOX(-62.864729899765 17.0941722997119,-62.5408274995894 17.4180222001644)"},
{"name":"Saint Lucia","iso2":"LC","iso3":"LCA","un_m49":"662","centroid":[-60.9684234876378,13.8969385992578],"extent":"BOX(-61.0797556996658 13.7095871998894,-60.8729210000041 14.1085769996289)"},
{"name":"Saint Martin (French part)","iso2":"MF","iso3":"MAF","un_m49":"663","centroid":[-63.0603270021082,18.084336290225],"extent":"BOX(-63.1474259996102 18.0528485000583,-62.9704395000828 18.1248639998738)"},
{"name":"Saint Pierre and Miquelon","iso2":"PM","iso3":"SPM","un_m49":"666","centroid":[-56.3087900722756,46.9359003796076],"extent":"BOX(-56.4058767004493 46.7494998998006,-56.1189569004405 47.1442602014472)"},
{"name":"Saint Vincent and the Grenadines","iso2":"VC","iso3":"VCT","un_m49":"670","centroid":[-61.2199005356389,13.1443024536283],"extent":"BOX(-61.4998377004495 12.3900845000996,-61.1148287999092 13.3832590008023)"},
{"name":"Samoa","iso2":"WS","iso3":"WSM","un_m49":"882","centroid":[-172.17191831393,-13.7433409529936],"extent":"BOX(-172.804066799843 -14.0763998996356,-171.398475999867 -13.4388082995633)"},
{"name":"San Marino","iso2":"SM","iso3":"SMR","un_m49":"674","centroid":[12.4586379309952,43.9431550211976],"extent":"BOX(12.4018700004003 43.8979100003463,12.5100400001459 43.9998099996319)"},
{"name":"Sao Tome and Principe","iso2":"ST","iso3":"STP","un_m49":"678","centroid":[6.71397696476741,0.433046774311643],"extent":"BOX(6.46024600015284 -0.0147082986489977,7.46961550035513 1.72591140019102)"},
{"name":"Saudi Arabia","iso2":"SA","iso3":"SAU","un_m49":"682","centroid":[44.5452783022323,24.12292926006],"extent":"BOX(34.4956858005593 16.3795279999173,55.6666669991827 32.1543299997298)"},
{"name":"Senegal","iso2":"SN","iso3":"SEN","un_m49":"686","centroid":[-14.4603563830457,14.3569913487553],"extent":"BOX(-17.5301716997641 12.307280000072,-11.3461389691381 16.6927053066047)"},
{"name":"Serbia","iso2":"RS","iso3":"SRB","un_m49":"688","centroid":[20.8048554493876,44.0304900448227],"extent":"BOX(18.8514699996408 41.8523499996528,23.0052700002104 46.1894100003713)"},
{"name":"Seychelles","iso2":"SC","iso3":"SYC","un_m49":"690","centroid":[51.4513302597511,-6.93938952797823],"extent":"BOX(46.2044508000644 -10.2274884988951,56.2940198995988 -3.71188049988513)"},
{"name":"Sierra Leone","iso2":"SL","iso3":"SLE","un_m49":"694","centroid":[-11.7886442815354,8.55907475046251],"extent":"BOX(-13.3026563341225 6.92343667316396,-10.2732004647296 10.0004299999446)"},
{"name":"Singapore","iso2":"SG","iso3":"SGP","un_m49":"702","centroid":[103.816839247197,1.36073612649771],"extent":"BOX(103.639709473114 1.16403806240669,104.089103698777 1.47127199160917)"},
{"name":"Sint Maarten (Dutch part)","iso2":"SX","iso3":"SXM","un_m49":"534","centroid":[-63.0591682541875,18.041598092379],"extent":"BOX(-63.1469259999349 18.0051594997112,-62.9983140003908 18.0698690160423)"},
{"name":"Slovakia","iso2":"SK","iso3":"SVK","un_m49":"703","centroid":[19.4862799496521,48.7070179240767],"extent":"BOX(16.8477399998012 47.7281099995769,22.570440000106 49.6031500003723)"},
{"name":"Slovenia","iso2":"SI","iso3":"SVN","un_m49":"705","centroid":[14.8308183966205,46.1236549905005],"extent":"BOX(13.3830700001804 45.4217499995629,16.6026500000975 46.8779199997083)"},
{"name":"Solomon Islands","iso2":"SB","iso3":"SLB","un_m49":"90","centroid":[159.56044543715,-8.86862805167695],"extent":"BOX(155.513380899909 -12.3077011002255,168.846982000119 -5.42652789944293)"},
{"name":"Somalia","iso2":"SO","iso3":"SOM","un_m49":"706","centroid":[45.8681910141394,6.06309420477573],"extent":"BOX(40.9956499990483 -1.66023960007743,51.415513299799 11.9881608996059)"},
{"name":"South Africa","iso2":"ZA","iso3":"ZAF","un_m49":"710","centroid":[25.0927424325508,-29.0031460861524],"extent":"BOX(16.4543079878234 -46.9810337004449,37.9996061002414 -22.1266100002513)"},
{"name":"South Georgia and the South Sandwich Islands","iso2":"GS","iso3":"SGS","un_m49":"239","centroid":[-35.8823130264663,-54.6876800745749],"extent":"BOX(-42.0333312002746 -59.4808811000827,-26.2302140998008 -53.5499636996649)"},
{"name":"South Sudan","iso2":"SS","iso3":"SSD","un_m49":"728","centroid":[30.3261627772815,7.29067352375495],"extent":"BOX(24.1506958688194 3.48747093423628,35.9477000002549 12.2376718522742)"},
{"name":"South Sudan|Sudan","iso2":"SS|SD","iso3":"SSD|SDN","un_m49":"728|729","centroid":[28.3979776578551,9.76722910868899],"extent":"BOX(27.8141741260351 9.3432254783732,28.9770109809721 10.1433906282749)"},
{"name":"Spain","iso2":"ES","iso3":"ESP","un_m49":"724","centroid":[-3.64382507766333,40.2295507004287],"extent":"BOX(-18.1687698363588 27.6392822266935,4.31539201692812 43.7917213437651)"},
{"name":"Sri Lanka","iso2":"LK","iso3":"LKA","un_m49":"144","centroid":[80.7002839341648,7.62272236578476],"extent":"BOX(79.5213394169805 5.91951370289513,81.8789978032061 9.83497238186999)"},
{"name":"Sudan","iso2":"SD","iso3":"SDN","un_m49":"729","centroid":[29.9580045597993,16.019457921936],"extent":"BOX(21.8145558345842 8.63755889292861,38.5828377997248 22.2250799998422)"},
{"name":"Suriname","iso2":"SR","iso3":"SUR","un_m49":"740","centroid":[-55.9050289262173,4.13523759855206],"extent":"BOX(-58.0467481530048 1.8311399999111,-53.9798194928753 6.01067390028032)"},
{"name":"Svalbard and Jan Mayen","iso2":"SJ","iso3":"SJM","un_m49":"744","centroid":[18.2437021240147,78.8276983283221],"extent":"BOX(-9.08295809963653 70.8275762012807,33.287284900278 80.8324215009516)"},
{"name":"Swaziland","iso2":"SZ","iso3":"SWZ","un_m49":"748","centroid":[31.5019586726681,-26.564959613751],"extent":"BOX(30.7941099996768 -27.3169900003882,32.1366999997053 -25.7196500003472)"},
{"name":"Sweden","iso2":"SE","iso3":"SWE","un_m49":"752","centroid":[16.7578460970953,62.7777958382606],"extent":"BOX(10.9867343897803 55.337123872169,24.1632823943671 69.0624999996753)"},
{"name":"Switzerland","iso2":"CH","iso3":"CHE","un_m49":"756","centroid":[8.22620385354512,46.805493734354],"extent":"BOX(5.95746000037877 45.8258699999006,10.4914700003403 47.8051799995574)"},
{"name":"Syrian Arab Republic","iso2":"SY","iso3":"SYR","un_m49":"760","centroid":[38.5101181684372,35.0097515463679],"extent":"BOX(35.6139380006383 32.3164400003058,42.3847400003508 37.3191399997113)"},
{"name":"Taiwan, Province of China[a]","iso2":"TW","iso3":"TWN","un_m49":"158","centroid":[120.965915495104,23.745880246474],"extent":"BOX(119.307868958186 21.9018001562522,121.999641417817 25.2977237708354)"},
{"name":"Tajikistan","iso2":"TJ","iso3":"TJK","un_m49":"762","centroid":[71.0367182722518,38.5273970913154],"extent":"BOX(67.3922800004217 36.6722780000297,75.1372199998032 41.0412100001415)"},
{"name":"Tanzania, United Republic of","iso2":"TZ","iso3":"TZA","un_m49":"834","centroid":[34.8161806171581,-6.26324318943229],"extent":"BOX(29.3413897728198 -11.7609091251559,40.4455556999357 -0.984432042604624)"},
{"name":"Thailand","iso2":"TH","iso3":"THA","un_m49":"764","centroid":[101.014176644822,15.102723600865],"extent":"BOX(97.3436505874047 5.61313096132483,105.63586241312 20.4650502161946)"},
{"name":"Timor-Leste","iso2":"TL","iso3":"TLS","un_m49":"626","centroid":[125.852539050031,-8.82119946283991],"extent":"BOX(124.044963161121 -9.5032339097171,127.341850280766 -8.12721889893299)"},
{"name":"Togo","iso2":"TG","iso3":"TGO","un_m49":"768","centroid":[0.978248987426803,8.531297757562],"extent":"BOX(-0.145850000676944 6.11242424967941,1.80669000014342 11.1389800002269)"},
{"name":"Tokelau","iso2":"TK","iso3":"TKL","un_m49":"772","centroid":[-171.803807172088,-9.05865612821301],"extent":"BOX(-172.520419600384 -9.44342919959786,-171.18385830012 -8.53368710017946)"},
{"name":"Tonga","iso2":"TO","iso3":"TON","un_m49":"776","centroid":[-174.85792811382,-19.9542586927656],"extent":"BOX(-176.217969499793 -22.3483932003858,-173.736764500082 -15.5664452001858)"},
{"name":"Trinidad and Tobago","iso2":"TT","iso3":"TTO","un_m49":"780","centroid":[-61.2595708521746,10.4733276962915],"extent":"BOX(-61.9275601003183 10.043940000031,-60.4943621001308 11.3616900011926)"},
{"name":"Tunisia","iso2":"TN","iso3":"TUN","un_m49":"788","centroid":[9.57711391331785,34.1124468815694],"extent":"BOX(7.52242899959867 30.2421599998842,11.5982699996608 37.5609540003269)"},
{"name":"Turkey","iso2":"TR","iso3":"TUR","un_m49":"792","centroid":[35.1740251103353,39.0613576343319],"extent":"BOX(25.6685104373069 35.8154299997947,44.8338399998162 42.1075699997558)"},
{"name":"Turkmenistan","iso2":"TM","iso3":"TKM","un_m49":"795","centroid":[58.3956832273843,39.2101724628783],"extent":"BOX(51.2501800004068 35.1287599998741,66.6842999998452 42.7955499998327)"},
{"name":"Turks and Caicos Islands","iso2":"TC","iso3":"TCA","un_m49":"796","centroid":[-71.8986338467888,21.7715947302815],"extent":"BOX(-72.4822499996378 21.2780884003594,-71.0835512998526 21.9625607000164)"},
{"name":"Tuvalu","iso2":"TV","iso3":"TUV","un_m49":"798","centroid":[177.841514586821,-7.56526176460286],"extent":"BOX(176.059676099872 -9.43515630012308,179.871125800116 -5.64250099892189)"},
{"name":"Uganda","iso2":"UG","iso3":"UGA","un_m49":"800","centroid":[32.3915442126574,1.27919283749336],"extent":"BOX(29.5737052652858 -1.48058167790208,35.0360418511506 4.21442999974477)"},
{"name":"Ukraine","iso2":"UA","iso3":"UKR","un_m49":"804","centroid":[31.4102104170624,49.0080308161842],"extent":"BOX(22.1303599998142 44.3916511540776,40.1996400002859 52.3753699997258)"},
{"name":"United Arab Emirates","iso2":"AE","iso3":"ARE","un_m49":"784","centroid":[54.328683430425,23.9093299726526],"extent":"BOX(51.5344158888822 22.6280559995848,56.3812222885778 26.0693529996413)"},
{"name":"United Kingdom of Great Britain and Northern Ireland","iso2":"GB","iso3":"GBR","un_m49":"826","centroid":[-2.89622135932825,54.1509985328253],"extent":"BOX(-8.65067768113005 49.8903312692727,1.7590020897747 60.8443794250705)"},
{"name":"United States Minor Outlying Islands","iso2":"UM","iso3":"UMI","un_m49":"581","centroid":[-154.997802765843,7.07746973602235],"extent":"BOX(-178.340248799942 -0.379622499178936,166.657371499795 28.4018921996653)"},
{"name":"United States of America","iso2":"US","iso3":"USA","un_m49":"840","centroid":[-112.501521299802,45.6901484514327],"extent":"BOX(-179.148286300273 18.9106535012581,179.772788699839 71.3889199022317)"},
{"name":"Uruguay","iso2":"UY","iso3":"URY","un_m49":"858","centroid":[-56.015662955029,-32.7989763432687],"extent":"BOX(-58.4427223208784 -35.0304667989036,-53.0739300000694 -30.0822200002528)"},
{"name":"Uzbekistan","iso2":"UZ","iso3":"UZB","un_m49":"860","centroid":[63.161488587125,41.7614886700328],"extent":"BOX(55.9996699997707 37.1796325791802,73.1322700003603 45.590900000135)"},
{"name":"Vanuatu","iso2":"VU","iso3":"VUT","un_m49":"548","centroid":[167.720284680904,-16.2129079691601],"extent":"BOX(166.542185199887 -20.2521596003852,170.237756599787 -13.0726014998593)"},
{"name":"Venezuela (Bolivarian Republic of)","iso2":"VE","iso3":"VEN","un_m49":"862","centroid":[-66.1509617915463,7.12786764162472],"extent":"BOX(-73.3736499996477 0.649720000277853,-59.8063000000449 15.6710012996703)"},
{"name":"Viet Nam","iso2":"VN","iso3":"VNM","un_m49":"704","centroid":[106.309122075631,16.6320160406825],"extent":"BOX(102.143885072438 8.41112144220085,109.463575978449 23.3927641700305)"},
{"name":"Virgin Islands (British)","iso2":"VG","iso3":"VGB","un_m49":"92","centroid":[-64.5103972404355,18.5107351505438],"extent":"BOX(-64.7800591999721 18.308584259556,-64.2714757997683 18.7470874002634)"},
{"name":"Virgin Islands (U.S.)","iso2":"VI","iso3":"VIR","un_m49":"850","centroid":[-64.8001321887971,17.963398565036],"extent":"BOX(-65.1018777000958 17.6741073004117,-64.5648482003841 18.4518198996687)"},
{"name":"Wallis and Futuna","iso2":"WF","iso3":"WLF","un_m49":"876","centroid":[-176.984983213414,-13.7041672341835],"extent":"BOX(-178.178309399859 -14.362166499884,-176.124187300204 -13.1837239990633)"},
{"name":"Western Sahara","iso2":"EH","iso3":"ESH","un_m49":"732","centroid":[-13.1364359806031,24.6607997267637],"extent":"BOX(-17.1042016999485 20.7716225996033,-8.66664904531711 27.6670081113353)"},
{"name":"Yemen","iso2":"YE","iso3":"YEM","un_m49":"887","centroid":[47.5935409627762,15.9044184522376],"extent":"BOX(41.8160473310195 12.112517366983,54.5294597523657 18.9999999999001)"},
{"name":"Zambia","iso2":"ZM","iso3":"ZMB","un_m49":"894","centroid":[27.7940655670079,-13.4582823800095],"extent":"BOX(21.9992133757967 -18.0794699999405,33.7056999995554 -8.19224760534269)"},
{"name":"Zimbabwe","iso2":"ZW","iso3":"ZWE","un_m49":"716","centroid":[29.8686507213251,-19.000516491689],"extent":"BOX(25.2371799996573 -22.4177399998011,33.055020000073 -15.6093600001638)"}];

class App extends React.Component{
  constructor(props){
    super(props);
    this.state = {fromVersion:"",toVersion:"",countries:[]};
  }
  componentDidMount() {
    this.setState({fromVersion: VERSIONS[0], toVersion: VERSIONS[1]});
    this.getCountries();
  }
  //makes a GET request and returns a promise which will either be resolved (passing the response) or rejected (passing the error)
  _get(url, params) {
    return new Promise((resolve, reject) => {
      //set the global loading flag
      jsonp(url).promise.then((response) => {
        resolve(response);
      }, (err) => {
        reject(err);
      });
    });
  }
  getCountries(){
    let countryData;
    this._get(REST_BASE_URL + "get_wdpa_diff_countries?format=json").then(response => {
      let countryArray = response.records.map(country =>{
        //find the matching item from the countries.json array
        countryData = countries_data.find(_country => _country.iso3 === country.iso3);
        //merge the two objects
        return Object.assign(country, countryData);
      });
      //join the information on which countries have had changes to the wdpa to the countries.json data
      this.setState({countries: countryArray});
    });
  }
  render(){
    let countryPopups = this.state.countries.map(country=>{
      return (country.centroid) ? <CountryPopup country={country}>
          <h1>{country.name}</h1>
        </CountryPopup> : null;
    });
    return (
      // eslint-disable-next-line
      <Map style={MAP_STYLE_DEFAULT} containerStyle={{height: '100vh',width: '100vw'}} center={INITIAL_CENTER}zoom={INITIAL_ZOOM}>
        <Source id={SOURCE_NAME_FROM} tileJsonSource={{type: "vector", attribution: "wdpa", tiles: [ TILES_BASE_URL + "wdpa_" + this.state.fromVersion + "_polygons&tilematrixset=EPSG:900913&Service=WMTS&Request=GetTile&Version=1.0.0&Format=application/x-protobuf;type=mapbox-vector&TileMatrix=EPSG:900913:{z}&TileCol={x}&TileRow={y}"]}}/>
        <Source id={SOURCE_NAME_TO} tileJsonSource={{type: "vector", attribution: "wdpa", tiles: [ TILES_BASE_URL + "wdpa_" + this.state.toVersion + "_polygons&tilematrixset=EPSG:900913&Service=WMTS&Request=GetTile&Version=1.0.0&Format=application/x-protobuf;type=mapbox-vector&TileMatrix=EPSG:900913:{z}&TileCol={x}&TileRow={y}"]}}/>
        <Layer id={LAYER_NAME_FROM} sourceId={SOURCE_NAME_FROM} type="fill" sourceLayer={"wdpa_" + this.state.fromVersion + "_polygons"} layout={{visibility: "visible"}} paint={PAINT_WDPA_RED}/>
        <Layer id={LAYER_NAME_FROM_DELETED} sourceId={SOURCE_NAME_FROM} type="fill" sourceLayer={"wdpa_" + this.state.fromVersion + "_polygons"} layout={{visibility: "none"}} paint={PAINT_WDPA_RED}/>
        <Layer id={LAYER_NAME_TO} sourceId={SOURCE_NAME_TO} type="fill" sourceLayer={"wdpa_" + this.state.toVersion + "_polygons"} layout={{visibility: "visible"}} paint={PAINT_WDPA_DEFAULT}/>
        <Layer id={LAYER_NAME_TO_CHANGED} sourceId={SOURCE_NAME_FROM} type="fill" sourceLayer={"wdpa_" + this.state.fromVersion + "_polygons"} layout={{visibility: "none"}} paint={PAINT_WDPA_RED}/>
        <Layer id={LAYER_NAME_TO_NEW} sourceId={SOURCE_NAME_FROM} type="fill" sourceLayer={"wdpa_" + this.state.fromVersion + "_polygons"} layout={{visibility: "none"}} paint={PAINT_WDPA_RED}/>
        {countryPopups}
      </Map>
    );
  }
}

export default App;
